📝 화장품 성분 분석 앱 "인그리디언트" 프로젝트 기획서 (v1.2)
1. 프로젝트 개요
프로젝트 명: 인그리디언트 (Ingrediant)

한 줄 요약: 카메라로 스캔한 화장품 성분을 AI가 분석해 피부 타입별 적합도를 먼저 요약하고, 궁금한 성분에 대한 전문적인 정보를 RAG AI를 통해 제공하는 지능형 분석 앱

개발 환경:

OS: Android

언어: Kotlin

데이터베이스: JSON (앱 내장 데이터 소스)

(✨신규) 백엔드: Python

(✨신규) AI 프레임워크: LangChain

(✨신규) Vector DB: ChromaDB

(✨신규) API 서버: FastAPI (또는 Flask)

핵심 기능:

OCR(광학 문자 인식)을 통한 성분표 텍스트 추출

인식된 성분 리스트 종합 분석 및 피부 타입별 적합도 요약

(✨수정) 사용자가 원하는 성분에 대한 전문 RAG AI 기반의 대화형 설명 제공 (Chat History 포함)

2. 프로젝트 목표 🎯
문제점: 사용자들은 복잡한 성분 목록을 보고 어떤 성분이 자신에게 좋고 나쁜지 스스로 판단하기 어렵습니다. 또한, 단순 정보 검색만으로는 자신의 궁금증을 완전히 해소하기 어렵습니다.

해결 방안:

스캔 직후, "그래서 이 화장품이 나에게 맞을까?" 라는 핵심 질문에 대한 답을 요약하여 먼저 제공합니다.

✅ 추천 피부 타입과 ⚠️ 주의 피부 타입 정보를 직관적으로 보여주어 사용자의 빠른 의사결정을 돕습니다.

RAG 시스템을 통해 성분에 대한 전문적인 설명을 제공합니다.

3. 주요 기능 명세 🔍
3.1. 성분 스캔 (OCR)

(기존과 동일)

사용자 플로우:

앱 실행 시 카메라 화면을 표시합니다.

사용자가 화장품 뒷면의 성분표에 카메라를 맞춥니다.

실시간으로 텍스트를 인식하여 화면에 표시하고, 촬영 버튼으로 분석을 시작합니다.

구현 기술:

CameraX API, Google ML Kit Text Recognition

3.2. 성분 종합 분석 및 요약 제공 (✨핵심 변경사항)

(기존 기획서 v1.1 내용과 동일)

사용자 플로우:

스캔이 완료되면, 앱은 인식된 모든 성분을 바탕으로 종합 분석을 수행합니다.

분석 결과를 바탕으로 "✅ 이런 피부에 추천해요", "⚠️ 이런 피부는 주의하세요" 와 같은 요약 정보를 화면 최상단에 보여줍니다.

그 아래로 전체 성분 목록이 나열됩니다.

구현 기술:

스캔된 각 성분의 good_for, bad_for 태그(JSON 데이터)를 집계합니다.

특정 태그(예: '건성', '지성', '민감성')가 일정 수 이상 나타나면, 해당 피부 타입을 요약 정보에 포함시키는 로직을 구현합니다.

3.3. 성분 상세 정보 및 RAG AI 설명 제공 (✨핵심 변경사항: RAG 백엔드 연동)

사용자 플로우:

사용자는 종합 분석 요약 정보를 확인한 후, 궁금한 특정 성분을 목록에서 선택(터치)합니다.

해당 성분에 대한 기본 정보(JSON)와 함께, Python RAG 백엔드가 생성한 전문적인 상세 설명이 포함된 화면으로 전환됩니다. (RAG 1차 호출)

(채팅 기능은 v1.0 범위에서 제외됨)

구현 기술:

구조: 성분 선택 -> Python RAG 백엔드 API 호출 (/analyze_product) -> [백엔드] LangChain 파이프라인 (ChromaDB 검색 + Few-shot) -> LLM 생성 -> 앱에 응답 표시

이 기능은 사용자에게 성분에 대한 전문적인 설명을 제공하는 역할을 합니다.

4. 기술 스택 및 아키텍처 🛠️
아키텍처: MVVM (Model-View-ViewModel) (Android App)

(✨신규) 백엔드 기술 스택:

API Server: Python FastAPI (또는 Flask)

AI Framework: LangChain (RAG 파이프라인, Chat History, Few-shot, LLM Evaluation 구현)

Vector DB: ChromaDB (성분 데이터, 논문, 전문 자료 임베딩 및 저장)

LLM: Gemini API (또는 외부 LLM)

시스템 흐름도 (✨RAG 백엔드 연동으로 변경)

[카메라/이미지 입력] -> [OCR 모듈 (ML Kit)] -> [텍스트 추출] | V [전체 성분 목록에 대해 DB 조회 및 분석 (앱 로컬 JSON)] | V [피부 타입별 적합도 요약 정보 생성] -> [요약 정보 UI 표시] | V [전체 성분 리스트 UI 표시] | V [사용자 성분 선택] -> [Python RAG 백엔드 API 호출 (/analyze_product)] | V [LangChain 파이프라인 (ChromaDB 검색 + LLM 생성)] | V [AI 응답 수신] -> [상세 정보 UI 표시]

5. 데이터베이스 구조 📄 (✨역할 변경)
파일 예시: ingredients.json (기존 구조와 동일)

JSON
[
  {
    "id": 4,
    "name": "시어버터",
    "en_name": "Shea Butter",
    "purpose": "수분 증발 차단, 피부 연화",
    "description": "피부에 보습막을 형성하여 수분 증발을 막아주는 대표적인 유성 성분입니다.",
    "keywords": ["보습막", "유분", "건성"],
    "good_for": ["건성", "악건성"],
    "bad_for": ["지성", "여드름성"]
  }
]
(✨신규) 데이터베이스 역할 변경:

ingredients.json (앱 내장): (1) 오프라인 요약 분석(3.2 기능)의 핵심 데이터로 사용됩니다. (2) RAG 백엔드의 Vector DB를 구축하는 **핵심 원본 데이터(Source of Truth)**로 사용됩니다.

ChromaDB (백엔드): ingredients.json의 description, keywords 및 추가로 수집된 논문, 전문 자료 등을 임베딩하여 RAG의 '검색(Retrieve)' 단계에서 사용합니다.

6. 개발 계획 (로드맵) 🗺️ (✨RAG 백엔드 구축 일정 반영)
Phase 1: 핵심 기능 구현 (1개월)

(기존과 동일)

프로젝트 설정 및 기본 UI 레이아웃 설계 (Jetpack Compose)

카메라 기능 및 ML Kit OCR 연동

ingredients.json 파싱 및 데이터 클래스 설계

스캔된 전체 성분 기반으로 피부 타입별 요약 정보를 생성하는 분석 로직 개발

분석 결과(요약 + 전체 목록)를 화면에 표시

(✨신규) Phase 2: RAG 백엔드 시스템 구축 (1.5개월)

Python (FastAPI) 기반 API 서버 환경 구축

ingredients.json 및 추가 전문 자료(논문, 기사) 수집 및 전처리

ChromaDB Vector Store 구축 및 임베딩 파이프라인 설계

LangChain을 활용한 RAG 체인 구현 (검색, 프롬프트, LLM 연동)

Few-shot 프롬프팅 적용

API 엔드포인트( /analyze_product, /search ) 개발 및 단위 테스트

(✨수정) Phase 3: AI 기능 연동 (Android) (1개월)

(기존 Phase 2 수정)

Android 앱 내 Retrofit/OkHttp 등 API 연동 모듈 개발

상세 정보 화면에 RAG 백엔드 API 호출 및 응답(AI 설명) 표시

(채팅 기능 및 세션 관리는 v1.0 범위에서 제외됨)

(✨수정) Phase 4: 고도화 및 테스트 (2주)

(기존 Phase 3 수정)

LLM Evaluation (RAGAs 등)을 통한 AI 답변 품질 검증

성분 데이터베이스 확장, 디자인 개선, 안정성 테스트, 배포 준비

7. 기대 효과 ✨
사용자는 스캔 한 번으로 복잡한 분석 과정 없이 "이 화장품이 나에게 맞는지"에 대한 핵심 요약을 즉시 얻을 수 있습니다.

'가이드가 있는 정보'를 제공함으로써 사용자 만족도와 신뢰도를 향상시킬 수 있습니다.

(✨신규) RAG 시스템을 통해 ingredients.json에 없는 최신 논문이나 깊이 있는 정보까지 참조하여 답변의 품질과 범위를 획기적으로 개선합니다.