📝 PRD: 인그리디언트(Ingrediant) - AI 화장품 성분 분석 앱
문서 버전: 1.1 (RAG 시스템 고도화 반영)

작성일: 2025년 10월 27일

작성자: Gemini

기준 문서: 화장품 성분 분석 앱 "인그리디언트" 프로젝트 기획서 (v1.1)

1. 개요 (Overview)
1.1. 문제 정의 (Problem Statement)

대다수의 화장품 사용자는 제품 뒷면의 복잡하고 긴 성분 목록을 보고 어떤 성분이 자신의 피부 타입에 긍정적인지, 혹은 부정적인지 직관적으로 파악하기 어렵다. 이로 인해 정보의 홍수 속에서 자신에게 맞는 제품을 선택하는 데 불필요한 시간과 노력을 소모하고 있다.

1.2. 솔루션 제안 (Proposed Solution)

'인그리디언트'는 스마트폰 카메라로 화장품 성분표를 스캔하기만 하면, AI가 전체 성분을 종합적으로 분석하여 **"이 화장품이 내 피부에 맞을까?"**라는 핵심 질문에 대한 답을 즉시 제공하는 모바일 앱이다. 복잡한 성분 목록을 분석하여 ✅ 추천 피부 타입과 ⚠️ 주의 피부 타입을 요약 정보로 먼저 제시한다.

나아가, 특정 성분에 대해 궁금한 점이 생기면 RAG 시스템을 통해 전문적인 설명을 제공한다.

1.3. 주요 사용자 (Target Audience)

화장품 성분에 관심이 많지만 전문 지식은 부족한 20~40대 소비자

특정 피부 고민(민감성, 여드름성, 건성 등)으로 인해 성분을 꼼꼼히 확인해야 하는 사용자

더 나은 스킨케어 루틴을 위해 스마트한 정보 탐색을 원하는 모든 화장품 사용자

2. 목표 및 성공 지표 (Goals and Success Metrics)
2.1. 제품 목표 (Product Goals)

사용자 편의성 극대화: 스캔 한 번으로 복잡한 성분 분석 과정을 완료하여, 사용자에게 즉각적인 가이드를 제공한다.

정보의 신뢰도 향상: (✨수정) RAG 및 LLM Evaluation을 통해 검증된, '가이드가 있는 전문 정보'를 제공하여 사용자의 앱에 대한 만족도와 신뢰도를 높인다.

핵심 가치 전달: "나에게 맞는 화장품을 쉽고 빠르게 찾고, 궁금한 성분에 대한 전문적인 정보를 얻는다"는 앱의 핵심 가치를 명확한 UI/UX를 통해 전달한다.

2.2. 성공 지표 (Success Metrics)

핵심 기능 사용률: 전체 앱 실행 수 대비 성분 스캔 기능 실행 비율 (월 80% 이상 목표)

분석 만족도: 스캔 결과 화면에서 '상세 정보'를 조회하지 않고 이탈하는 비율 (핵심 요약 정보만으로 사용자가 만족했음을 의미하는 긍정 지표로 활용)

OCR 정확도: 사용자가 스캔 후 수동으로 성분 텍스트를 수정하는 비율 (5% 미만 목표)

사용자 평점: 앱 스토어 평점 4.5점 이상 달성

(✨신규) AI 답변 품질: LLM Evaluation 기법(예: RAGAs)을 통해 측정한 AI 생성 답변의 '유용성(Helpfulness)' 및 '정확성(Faithfulness)' 점수 (지속적 85% 이상 목표)

(채팅 기능 관련 지표는 v1.0 범위에서 제외됨)

3. 사용자 스토리 (User Stories)
As a 민감성 피부를 가진 사용자,

I want to 구매하려는 크림의 성분표를 스캔했을 때,

So that 이 제품에 내 피부를 자극할 만한 성분이 포함되어 있는지 즉시 알고 싶다.

As a 건성 피부를 가진 사용자,

I want to 스캔 직후 이 제품이 건성 피부에 좋은 보습 성분을 충분히 포함하고 있는지 요약된 정보를 보고 싶다,

So that 수많은 성분을 일일이 읽어보지 않고도 구매를 결정할 수 있다.

As a 성분에 관심이 많은 학생,

I want to '시어버터' 성분이 왜 지성 피부에겐 주의해야 하는지 AI 설명을 읽고 싶다.

So that 성분에 대한 전문적인 정보를 얻고 싶다.

4. 기능 요구사항 (Functional Requirements)
4.1. REQ-01: 성분 스캔 및 텍스트 인식 (OCR)

REQ-01-A: 앱 실행 시, 사용자는 카메라 미리보기 화면을 즉시 볼 수 있어야 한다.

REQ-01-B: 카메라는 화장품 성분표의 텍스트를 실시간으로 인식하여 화면에 영역을 표시해야 한다. (Google ML Kit Text Recognition 활용)

REQ-01-C: 사용자가 촬영 버튼을 누르면, 인식된 텍스트 전체가 다음 분석 단계로 전달되어야 한다.

4.2. REQ-02: 종합 분석 및 결과 요약

REQ-02-A: 스캔된 모든 텍스트(성분명)를 기반으로 ingredients.json 데이터베이스와 매칭해야 한다.

REQ-02-B: 매칭된 모든 성분의 good_for 및 bad_for 태그 데이터를 집계해야 한다.

REQ-02-C: 집계된 결과에 따라, 미리 정의된 로직(예: '건성' 태그 3회 이상)을 충족하는 피부 타입을 "✅ 이런 피부에 추천해요" 섹션에 표시해야 한다.

REQ-02-D: 마찬가지로, bad_for 태그에 대한 로직을 충족하는 피부 타입을 "⚠️ 이런 피부는 주의하세요" 섹션에 표시해야 한다.

REQ-02-E: 분석 결과 화면의 최상단에는 REQ-02-C와 REQ-02-D의 요약 정보가 가장 먼저 보여야 한다.

4.3. REQ-03: 상세 정보 제공 (✨RAG 연동)

REQ-03-A: 요약 정보 하단에는 인식된 전체 성분 목록이 순서대로 나열되어야 한다.

REQ-03-B: 사용자가 목록에서 특정 성분을 터치하면, 해당 성분의 상세 정보 화면으로 전환되어야 한다.

REQ-03-C: 상세 정보 화면에는 ingredients.json에 정의된 성분명(국문/영문), 용도, 기본 설명이 표시되어야 한다.

REQ-03-D (RAG 백엔드 연동): 상세 정보 화면 진입 시, 앱은 해당 성분명(예: '시어버터')을 기반으로 Python RAG 백엔드 API (/analyze_product)를 호출해야 한다.

REQ-03-E (AI 설명 표시): RAG 백엔드로부터 전달받은 AI 생성 설명(JSON 응답)을 파싱하여 상세 정보 화면의 'AI 전문가 설명' 영역에 표시해야 한다.

(채팅 기능 및 후속 질문 UI는 v1.0 범위에서 제외됨)

4.4. REQ-04: 데이터 관리

REQ-04-A: 앱은 성분 매칭 및 요약 분석(REQ-02)을 위해 ingredients.json 파일을 내장하고, 이를 파싱하여 사용할 수 있어야 한다.

REQ-04-B: 데이터 구조는 id, name, en_name, purpose, description, keywords, good_for, bad_for 필드를 포함해야 한다.

(✨신규) REQ-04-C (Vector Database): RAG 백엔드는 ingredients.json의 전문 설명, 관련 논문, 신뢰할 수 있는 뷰티/의학 블로그 포스트 등을 임베딩하여 ChromaDB 벡터 스토어에 저장하고 관리해야 한다.

4.5. (✨신규) 백엔드 RAG 시스템 (Python / LangChain)

REQ-05-A (API 서버): Python 기반 웹 프레임워크(예: FastAPI, Flask)를 사용하여 AI 분석 API 서버를 구축해야 한다.

REQ-05-B (API 엔드포인트): 제품 분석을 위한 엔드포인트(예: POST /analyze_product)를 제공해야 한다.

Request Body: { "ingredients": ["string"], "skin_type": "string" }

Response Body: { "analysis_report": "string", "good_matches": [], "bad_matches": [] }

REQ-05-C (RAG 파이프라인 - LangChain): 백엔드 로직은 LangChain 프레임워크를 기반으로 다음의 파이프라인을 구현해야 한다.

Retrieve (검색): 사용자의 쿼리를 임베딩하여 ChromaDB Vector Store에서 관련성 높은 문서 조각(Context)을 검색(Retrieval)한다.

(채팅 히스토리 기능은 v1.0 범위에서 제외됨)

Augment (보강): 검색된 문서(Context), 재구성된 질문, 그리고 Few-shot 예제(예: "질문: 시어버터 뭐임? / 답변: 시어버터는...")를 포함한 프롬프트 템플릿(예: ChatPromptTemplate)을 동적으로 구성한다.

Generate (생성): 완성된 프롬프트를 LLM(예: Gemini)에 전달하여 최종 답변을 생성한다.

(채팅 히스토리 저장 기능은 v1.0 범위에서 제외됨)

REQ-05-D (LLM Evaluation): RAG 시스템의 품질을 지속적으로 관리하기 위해 LLM Evaluation 체계를 구축해야 한다.

LangSmith 또는 RAGAs와 같은 도구를 사용하여 평가 데이터셋(Question-Context-Answer 쌍)을 구축한다.

주기적으로 'Context Precision/Recall'(검색 정확도), 'Answer Faithfulness'(환각 방지), 'Answer Relevancy'(답변 관련성) 지표를 측정하고 RAG 파이프라인(프롬프트, 임베딩 모델 등)을 개선한다.

5. 사용자 흐름 (User Flow) (✨수정)
코드 스니펫
graph TD
    A[사용자: 앱 실행] --> B{카메라 화면};
    B --> C[사용자: 성분표 촬영];
    C --> D((분석 중...));
    D --> E[분석 결과 화면];
    E --> F[1. 피부 타입별<br>적합도 요약<br>(✅/⚠️)];
    E --> G[2. 전체 성분 목록];
    G -- 사용자: 특정 성분 터치 --> H{상세 정보 화면};
    H --> I[표시: 기본정보 + AI 설명<br>(RAG 백엔드 호출)];
6. 비기능적 요구사항 (Non-Functional Requirements)
성능 (Performance):

성분표 촬영 후 분석 결과(REQ-02) 표시까지의 시간은 3초 이내를 목표로 한다.

RAG 백엔드의 AI 상세 설명 API (REQ-03-D) 응답 시간은 5초 이내를 목표로 한다.

사용성 (Usability): 별도의 가이드 없이도 사용자가 직관적으로 스캔하고, 결과를 확인할 수 있는 UI/UX를 제공해야 한다.

호환성 (Compatibility): Android OS 버전 8.0 (Oreo) 이상을 지원해야 한다.

(✨수정) 데이터 (Data):

오프라인 기능: 성분 스캔(OCR) 및 피부 타입 요약 분석(REQ-02)은 네트워크 연결 없이 동작해야 한다.

온라인 기능: REQ-03의 AI 상세 설명 기능은 RAG 백엔드 서버와의 네트워크 통신을 필수로 요구한다.

(✨신규) 신뢰성 (Reliability): RAG 시스템은 LLM Evaluation(REQ-05-D)을 통해 90% 이상의 'Faithfulness'(LLM이 검색된 Context에 기반하여 답변하는 비율, 환각 없음)를 유지해야 한다.

7. 릴리즈 계획 (Release Plan)
v1.0 (MVP)

위에 명시된 REQ-01 ~ REQ-05의 기능 포함을 목표로 한다. (단, 채팅 기능은 제외)

즉, 사용자가 성분 스캔, 결과 요약 확인, 특정 성분 상세 정보 확인까지의 핵심 플로우를 경험할 수 있는 버전을 릴리즈한다.

8. 범위 외 (Out of Scope)
사용자 계정 및 프로필: v1.0에서는 회원가입, 로그인, 개인 피부 타입 설정 기능을 포함하지 않는다. (분석 요약은 '일반적인' 피부 타입을 기준으로 함)

스캔 히스토리: 과거에 분석했던 제품 기록을 앱에 저장하는 기능은 포함하지 않는다.

채팅 기능: 후속 질문 및 Chat History 기능은 v1.0 범위에서 제외된다.

커뮤니티 및 리뷰: 사용자가 직접 리뷰를 남기거나 다른 사용자와 소통하는 기능은 포함하지 않는다.

제품 검색 및 구매 연동: 성분 스캔 외에 제품명으로 검색하거나 쇼핑몰로 연결하는 기능은 포함하지 않는다.